<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="shortcut icon" href="//sf3-cdn-tos.douyinstatic.com/obj/eden-cn/uhbfnupkbps/toutiao_favicon.ico"
    type="image/x-icon">
  <title>今日头条</title>
</head>

<body>
  <noscript>您需要允许该网站执行 JavaScript</noscript>
  <script nonce="k7ADw8Y8To-DwRMawVw7a">
    var startTime = Date.now();
  </script>
  <script nonce="k7ADw8Y8To-DwRMawVw7a">
    (function (w, d, u, b, n, pc, ga, ae, po, s, p, e, t, pp) { pc = 'precollect'; ga = 'getAttribute'; ae = 'addEventListener'; po = 'PerformanceObserver'; s = function (m) { p = [].slice.call(arguments); p.push(Date.now(), location.href); (m == pc ? s.p.a : s.q).push(p) }; s.q = []; s.p = { a: [] }; w[n] = s; e = document.createElement('script'); e.src = u + '?bid=' + b + '&globalName=' + n; e.crossOrigin = u.indexOf('sdk-web') > 0 ? 'anonymous' : 'use-credentials'; d.getElementsByTagName('head')[0].appendChild(e); if (ae in w) { s.pcErr = function (e) { e = e || w.event; t = e.target || e.srcElement; if (t instanceof Element || t instanceof HTMLElement) { if (t[ga]('integrity')) { w[n](pc, 'sri', t[ga]('href') || t[ga]('src')) } else { w[n](pc, 'st', { tagName: t.tagName, url: t[ga]('href') || t[ga]('src') }) } } else { w[n](pc, 'err', e.error || e.message) } }; s.pcRej = function (e) { e = e || w.event; w[n](pc, 'err', e.reason || (e.detail && e.detail.reason)) }; w[ae]('error', s.pcErr, true); w[ae]('unhandledrejection', s.pcRej, true); }; if ('PerformanceLongTaskTiming' in w) { pp = s.pp = { entries: [] }; pp.observer = new PerformanceObserver(function (l) { pp.entries = pp.entries.concat(l.getEntries()) }); pp.observer.observe({ entryTypes: ['longtask', 'largest-contentful-paint', 'layout-shift'] }) } })(window, document, 'https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/browser.cn.js', 'toutiao_web_pc', 'Slardar');
  </script>
  <script nonce="k7ADw8Y8To-DwRMawVw7a">
    window.Slardar && window.Slardar('init', {
      bid: 'toutiao_web_pc',
      pid: 'ttwid',
      sample: {
        sample_rate: 1,
      },
      plugins: {
        ajax: {
          ignoreUrls: ['i.snssdk.com', 'mon.zijieapi.com', 'mon.snssdk.com'],
        },
        pageview: {
          routeMode: 'manual',
        },
      },
    });
    window.Slardar && window.Slardar('start');
  </script>
  <script nonce="k7ADw8Y8To-DwRMawVw7a" src="https://unpkg.byted-static.com/byted-ucenter/ttwid-js/1.0.1/dist/index.umd.production.js"></script>
  <script nonce="k7ADw8Y8To-DwRMawVw7a">
    var ttwidInstance = null;
    var retryTime = 0;
    var maxRetryTime = 2;

    function reportError(type) {
      window.Slardar('sendEvent', {
        name: 'ttwid-register-error',
        metrics: {
          value: 1,
        },
        categories: {
          type: type
        }
      });
    }

    function reportDuration() {
      window.Slardar('sendEvent', {
        name: 'ttwid-page-duration',
        metrics: {
          value: Date.now() - startTime
        },
      });
    }

    function setRealReferrer() {
      var __AC_REFERER = '__ac_referer';
      var acReferrer = window.sessionStorage.getItem(__AC_REFERER);
      var realReferrer = acReferrer != null ? acReferrer : document.referrer;
      window.sessionStorage.setItem(__AC_REFERER, realReferrer || '__ac_blank');
    }

    function setQueryParams(k, v) {
      var searchParamsArr = window.location.search ? window.location.search.substr(1).split('&') : [];
      var hasDup = false;
      for (var i = 0; i < searchParamsArr.length; i++) {
        var paramArr = searchParamsArr[i].split('=')
        if (paramArr[0] === k) {
          searchParamsArr[i] = k + '=' + v;
          hasDup = true;
          break;
        }
      }
      if (!hasDup) {
        searchParamsArr.push(k + '=' + v);
      }
      window.location.search = searchParamsArr.join('&');
    }

    function end() {
      reportDuration();
      setQueryParams('wid', Date.now());
    }

    function init() {
      if (!TTWidInstance) {
        reportError('init');
        end();
        return;
      }

      if (!ttwidInstance) {
        ttwidInstance = new TTWidInstance({
          aid: 24,
          service: 'www.toutiao.com',
          region: 'cn',
          union: true,
          needFid: false,
        });
      }

      ttwidInstance.registerUnionWebId({}, function (err, res) {
        if (err || !res || res.status_code !== 0) {
          if (retryTime < maxRetryTime) {
            init();
            retryTime++;
            return;
          }
          reportError('register');
        }
        end();
      });
    }

    try {
      setRealReferrer();
      init();
    } catch (error) {
      console.error(error);
      end();
    }
  </script>
</body>

</html>